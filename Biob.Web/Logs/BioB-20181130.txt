2018-11-30T09:30:45.2527069+01:00 0HLIMJOFL0U2R:00000001 [INF] Request starting HTTP/1.1 DEBUG http://localhost:44390/  0 (ca22a1cb)
2018-11-30T09:30:45.2527069+01:00 0HLIMJOFL0U2Q:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44390/api/v1/movies application/json  (ca22a1cb)
2018-11-30T09:30:45.4928201+01:00 0HLIMJOFL0U2R:00000001 [INF] Request finished in 249.3238ms 200  (791a596a)
2018-11-30T09:30:45.9206268+01:00 0HLIMJOFL0U2Q:00000001 [INF] Checking for conditional GET/HEAD. (7e2efcb6)
2018-11-30T09:30:45.9301540+01:00 0HLIMJOFL0U2Q:00000001 [INF] Not valid - no If-None-Match or If-Modified-Since headers. (00e43d04)
2018-11-30T09:30:45.9398340+01:00 0HLIMJOFL0U2Q:00000001 [INF] Don't generate 304 - Not Modified.  Continue. (b6a7d473)
2018-11-30T09:30:45.9644136+01:00 0HLIMJOFL0U2Q:00000001 [INF] Checking for conditional PUT/PATCH. (bf3cf9be)
2018-11-30T09:30:46.0079636+01:00 0HLIMJOFL0U2Q:00000001 [INF] Not valid - method isn't PUT or PATCH. (671cb4f2)
2018-11-30T09:30:46.0210199+01:00 0HLIMJOFL0U2Q:00000001 [INF] Don't generate 412 - Precondition Failed.  Continue. (08bc4a18)
2018-11-30T09:30:47.5854855+01:00 0HLIMJOFL0U2Q:00000001 [INF] Route matched with "{action = \"GetAllMovies\", controller = \"Movie\"}". Executing action "Biob.Web.Controllers.MovieController.GetAllMovies (Biob.Web)" (a44c0341)
2018-11-30T09:30:48.6426450+01:00 0HLIMJOFL0U2Q:00000001 [INF] Executing action method "Biob.Web.Controllers.MovieController.GetAllMovies (Biob.Web)" with arguments (["Biob.Web.Helpers.RequestParameters", "*/*"]) - Validation state: Valid (4e3479ed)
2018-11-30T09:30:49.2002335+01:00 0HLIMJOFL0U2Q:00000001 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"BiobDataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-11-30T09:30:53.6913589+01:00 0HLIMJOFL0U2Q:00000001 [INF] Executed DbCommand ("112"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [movie].[Id], [movie].[Actors], [movie].[AgeRestriction], [movie].[CreatedOn], [movie].[DeletedOn], [movie].[Description], [movie].[IsDeleted], [movie].[LengthInSeconds], [movie].[ModifiedOn], [movie].[Poster], [movie].[Producer], [movie].[Released], [movie].[ThreeDee], [movie].[Title]
FROM [Movies] AS [movie]
WHERE [movie].[IsDeleted] = 0
ORDER BY [movie].[Title], [movie].[Id]" (0723d8ff)
2018-11-30T09:30:53.9372535+01:00 0HLIMJOFL0U2Q:00000001 [INF] Executed DbCommand ("119"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [movie.MovieGenres].[MovieId], [movie.MovieGenres].[GenreId], [movie.MovieGenres].[CreatedOn], [movie.MovieGenres].[DeletedOn], [movie.MovieGenres].[Id], [movie.MovieGenres].[IsDeleted], [movie.MovieGenres].[ModifiedOn], [m.Genre].[Id], [m.Genre].[CreatedOn], [m.Genre].[DeletedOn], [m.Genre].[GenreName], [m.Genre].[IsDeleted], [m.Genre].[ModifiedOn]
FROM [MovieGenres] AS [movie.MovieGenres]
INNER JOIN [Genres] AS [m.Genre] ON [movie.MovieGenres].[GenreId] = [m.Genre].[Id]
INNER JOIN (
    SELECT [movie0].[Id], [movie0].[Title]
    FROM [Movies] AS [movie0]
    WHERE [movie0].[IsDeleted] = 0
) AS [t] ON [movie.MovieGenres].[MovieId] = [t].[Id]
ORDER BY [t].[Title], [t].[Id]" (0723d8ff)
2018-11-30T09:30:54.5019559+01:00 0HLIMJOFL0U2Q:00000001 [INF] Executed action "Biob.Web.Controllers.MovieController.GetAllMovies (Biob.Web)" in 6899.3297ms (afa2e885)
2018-11-30T09:30:54.7919035+01:00 0HLIMJOFL0U2Q:00000001 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
PagedList`1 -> IEnumerable`1
Biob.Services.Data.Helpers.PagedList`1[[Biob.Data.Models.Movie, Biob.Data.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.IEnumerable`1[[Biob.Services.Data.DtoModels.MovieDto, Biob.Services.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] ---> AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
Movie -> MovieDto
Biob.Data.Models.Movie -> Biob.Services.Data.DtoModels.MovieDto

Type Map configuration:
Movie -> MovieDto
Biob.Data.Models.Movie -> Biob.Services.Data.DtoModels.MovieDto

Destination Member:
Genre
 ---> System.ArgumentOutOfRangeException: StartIndex cannot be less than zero.
Parameter name: startIndex
   at System.Text.StringBuilder.Remove(Int32 startIndex, Int32 length)
   at Biob.Web.Helpers.IEnumerableExtensions.ConvertIEnumerableToString[T](IEnumerable`1 listOfString) in C:\Users\tec\Desktop\H3\ServerSide\BioB\RESTBiob\Biob.Web\Helpers\IEnumerableExtensions.cs:line 15
   at lambda_method(Closure , PagedList`1 , IEnumerable`1 , ResolutionContext )
   --- End of inner exception stack trace ---
   at lambda_method(Closure , PagedList`1 , IEnumerable`1 , ResolutionContext )
   --- End of inner exception stack trace ---
   at lambda_method(Closure , PagedList`1 , IEnumerable`1 , ResolutionContext )
   at lambda_method(Closure , Object , Object , ResolutionContext )
   at AutoMapper.Mapper.AutoMapper.IMapper.Map[TDestination](Object source) in C:\projects\automapper\src\AutoMapper\Mapper.cs:line 211
   at Biob.Web.Controllers.MovieController.GetAllMovies(RequestParameters requestParameters, String mediaType) in C:\Users\tec\Desktop\H3\ServerSide\BioB\RESTBiob\Biob.Web\Controllers\MovieController.cs:line 81
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext)
   at AspNetCoreRateLimit.IpRateLimitMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-11-30T09:30:54.9025846+01:00 0HLIMJOFL0U2Q:00000001 [ERR] An exception was thrown attempting to display the error page. (33804fd3)
System.ArgumentException: Stream was not writable.
   at System.IO.StreamWriter..ctor(Stream stream, Encoding encoding, Int32 bufferSize, Boolean leaveOpen)
   at Microsoft.Extensions.RazorViews.BaseView.ExecuteAsync(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-11-30T09:30:54.9372996+01:00 0HLIMJOFL0U2Q:00000001 [ERR] Connection id ""0HLIMJOFL0U2Q"", Request id ""0HLIMJOFL0U2Q:00000001"": An unhandled exception was thrown by the application. (560e7d32)
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
PagedList`1 -> IEnumerable`1
Biob.Services.Data.Helpers.PagedList`1[[Biob.Data.Models.Movie, Biob.Data.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.IEnumerable`1[[Biob.Services.Data.DtoModels.MovieDto, Biob.Services.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] ---> AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
Movie -> MovieDto
Biob.Data.Models.Movie -> Biob.Services.Data.DtoModels.MovieDto

Type Map configuration:
Movie -> MovieDto
Biob.Data.Models.Movie -> Biob.Services.Data.DtoModels.MovieDto

Destination Member:
Genre
 ---> System.ArgumentOutOfRangeException: StartIndex cannot be less than zero.
Parameter name: startIndex
   at System.Text.StringBuilder.Remove(Int32 startIndex, Int32 length)
   at Biob.Web.Helpers.IEnumerableExtensions.ConvertIEnumerableToString[T](IEnumerable`1 listOfString) in C:\Users\tec\Desktop\H3\ServerSide\BioB\RESTBiob\Biob.Web\Helpers\IEnumerableExtensions.cs:line 15
   at lambda_method(Closure , PagedList`1 , IEnumerable`1 , ResolutionContext )
   --- End of inner exception stack trace ---
   at lambda_method(Closure , PagedList`1 , IEnumerable`1 , ResolutionContext )
   --- End of inner exception stack trace ---
   at lambda_method(Closure , PagedList`1 , IEnumerable`1 , ResolutionContext )
   at lambda_method(Closure , Object , Object , ResolutionContext )
   at AutoMapper.Mapper.AutoMapper.IMapper.Map[TDestination](Object source) in C:\projects\automapper\src\AutoMapper\Mapper.cs:line 211
   at Biob.Web.Controllers.MovieController.GetAllMovies(RequestParameters requestParameters, String mediaType) in C:\Users\tec\Desktop\H3\ServerSide\BioB\RESTBiob\Biob.Web\Controllers\MovieController.cs:line 81
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext)
   at AspNetCoreRateLimit.IpRateLimitMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.IISIntegration.IISMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2018-11-30T09:30:54.9526027+01:00 0HLIMJOFL0U2Q:00000001 [INF] Request finished in 9717.9534ms 500  (791a596a)
2018-11-30T09:31:17.7501449+01:00 0HLIMJOPCL9J0:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44390/api/v1/movies/de9b842d-531a-4f17-ad69-0d3e11cb911d application/json  (ca22a1cb)
2018-11-30T09:31:17.8707347+01:00 0HLIMJOPCL9J0:00000001 [INF] Checking for conditional GET/HEAD. (7e2efcb6)
2018-11-30T09:31:17.8719056+01:00 0HLIMJOPCL9J0:00000001 [INF] Not valid - no If-None-Match or If-Modified-Since headers. (00e43d04)
2018-11-30T09:31:17.8719830+01:00 0HLIMJOPCL9J0:00000001 [INF] Don't generate 304 - Not Modified.  Continue. (b6a7d473)
2018-11-30T09:31:17.8816569+01:00 0HLIMJOPCL9J0:00000001 [INF] Checking for conditional PUT/PATCH. (bf3cf9be)
2018-11-30T09:31:17.8818212+01:00 0HLIMJOPCL9J0:00000001 [INF] Not valid - method isn't PUT or PATCH. (671cb4f2)
2018-11-30T09:31:17.8818785+01:00 0HLIMJOPCL9J0:00000001 [INF] Don't generate 412 - Precondition Failed.  Continue. (08bc4a18)
2018-11-30T09:31:18.0855291+01:00 0HLIMJOPCL9J0:00000001 [INF] Route matched with "{action = \"GetOneMovie\", controller = \"Movie\"}". Executing action "Biob.Web.Controllers.MovieController.GetOneMovie (Biob.Web)" (a44c0341)
2018-11-30T09:31:18.2212065+01:00 0HLIMJOPCL9J0:00000001 [INF] Executing action method "Biob.Web.Controllers.MovieController.GetOneMovie (Biob.Web)" with arguments (["de9b842d-531a-4f17-ad69-0d3e11cb911d", "", "*/*"]) - Validation state: Valid (4e3479ed)
2018-11-30T09:31:18.5042328+01:00 0HLIMJOPCL9J0:00000001 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"BiobDataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-11-30T09:31:21.1962179+01:00 0HLIMJOPCL9J0:00000001 [INF] Executed DbCommand ("29"ms) [Parameters=["@__id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [movie].[Id], [movie].[Actors], [movie].[AgeRestriction], [movie].[CreatedOn], [movie].[DeletedOn], [movie].[Description], [movie].[IsDeleted], [movie].[LengthInSeconds], [movie].[ModifiedOn], [movie].[Poster], [movie].[Producer], [movie].[Released], [movie].[ThreeDee], [movie].[Title]
FROM [Movies] AS [movie]
WHERE [movie].[Id] = @__id_0" (0723d8ff)
2018-11-30T09:31:21.3091831+01:00 0HLIMJOPCL9J0:00000001 [INF] Executed action method "Biob.Web.Controllers.MovieController.GetOneMovie (Biob.Web)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3083.0274ms. (50a9e262)
2018-11-30T09:31:21.3269580+01:00 0HLIMJOPCL9J0:00000001 [INF] Executing ObjectResult, writing value of type '"System.Dynamic.ExpandoObject"'. (8a1b66c8)
2018-11-30T09:31:21.4611370+01:00 0HLIMJOPCL9J0:00000001 [INF] Executed action "Biob.Web.Controllers.MovieController.GetOneMovie (Biob.Web)" in 3369.6874ms (afa2e885)
2018-11-30T09:31:21.4695382+01:00 0HLIMJOPCL9J0:00000001 [INF] Generating expiration headers. (97875003)
2018-11-30T09:31:21.4707224+01:00 0HLIMJOPCL9J0:00000001 [INF] Expiration headers generated. Expires: Fri, 30 Nov 2018 08:41:21 GMT. Cache-Control: public,max-age=600,must-revalidate. (6d91f347)
2018-11-30T09:31:21.4772206+01:00 0HLIMJOPCL9J0:00000001 [INF] Generating Validation headers. (20c08f55)
2018-11-30T09:31:21.4891102+01:00 0HLIMJOPCL9J0:00000001 [INF] Validation headers generated. ETag: Strong, "D4970E0931C32112654ABB1EE0982B1B". Last-Modified: Fri, 30 Nov 2018 08:31:21 GMT (453a5991)
2018-11-30T09:31:21.4911390+01:00 0HLIMJOPCL9J0:00000001 [INF] Generating Vary header. (c1174e38)
2018-11-30T09:31:21.4912745+01:00 0HLIMJOPCL9J0:00000001 [INF] Vary header generated: Accept-Encoding. (669dea28)
2018-11-30T09:31:21.5099275+01:00 0HLIMJOPCL9J0:00000001 [INF] Request finished in 3767.7445ms 200 application/json; charset=utf-8 (791a596a)
2018-11-30T09:33:40.5658904+01:00 0HLIMJQ3TSEQQ:00000001 [INF] Request starting HTTP/1.1 DEBUG http://localhost:44390/  0 (ca22a1cb)
2018-11-30T09:33:40.6468292+01:00 0HLIMJQ3TSEQQ:00000001 [INF] Request finished in 77.1856ms 200  (791a596a)
2018-11-30T09:33:49.8046424+01:00 0HLIMJQ3TSEQQ:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44390/api/v1/movies application/json  (ca22a1cb)
2018-11-30T09:33:50.0062162+01:00 0HLIMJQ3TSEQQ:00000002 [INF] Checking for conditional GET/HEAD. (7e2efcb6)
2018-11-30T09:33:50.0144900+01:00 0HLIMJQ3TSEQQ:00000002 [INF] Not valid - no If-None-Match or If-Modified-Since headers. (00e43d04)
2018-11-30T09:33:50.0228981+01:00 0HLIMJQ3TSEQQ:00000002 [INF] Don't generate 304 - Not Modified.  Continue. (b6a7d473)
2018-11-30T09:33:50.0414155+01:00 0HLIMJQ3TSEQQ:00000002 [INF] Checking for conditional PUT/PATCH. (bf3cf9be)
2018-11-30T09:33:50.0495469+01:00 0HLIMJQ3TSEQQ:00000002 [INF] Not valid - method isn't PUT or PATCH. (671cb4f2)
2018-11-30T09:33:50.0591237+01:00 0HLIMJQ3TSEQQ:00000002 [INF] Don't generate 412 - Precondition Failed.  Continue. (08bc4a18)
2018-11-30T09:33:50.3822566+01:00 0HLIMJQ3TSEQQ:00000002 [INF] Route matched with "{action = \"GetAllMovies\", controller = \"Movie\"}". Executing action "Biob.Web.Controllers.MovieController.GetAllMovies (Biob.Web)" (a44c0341)
2018-11-30T09:33:50.7359570+01:00 0HLIMJQ3TSEQQ:00000002 [INF] Executing action method "Biob.Web.Controllers.MovieController.GetAllMovies (Biob.Web)" with arguments (["Biob.Web.Helpers.RequestParameters", "*/*"]) - Validation state: Valid (4e3479ed)
2018-11-30T09:33:51.1364770+01:00 0HLIMJQ3TSEQQ:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"BiobDataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-11-30T09:33:54.2900457+01:00 0HLIMJQ3TSEQQ:00000002 [INF] Executed DbCommand ("113"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [movie].[Id], [movie].[Actors], [movie].[AgeRestriction], [movie].[CreatedOn], [movie].[DeletedOn], [movie].[Description], [movie].[IsDeleted], [movie].[LengthInSeconds], [movie].[ModifiedOn], [movie].[Poster], [movie].[Producer], [movie].[Released], [movie].[ThreeDee], [movie].[Title]
FROM [Movies] AS [movie]
WHERE [movie].[IsDeleted] = 0
ORDER BY [movie].[Title], [movie].[Id]" (0723d8ff)
2018-11-30T09:33:54.4517526+01:00 0HLIMJQ3TSEQQ:00000002 [INF] Executed DbCommand ("66"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [movie.MovieGenres].[MovieId], [movie.MovieGenres].[GenreId], [movie.MovieGenres].[CreatedOn], [movie.MovieGenres].[DeletedOn], [movie.MovieGenres].[Id], [movie.MovieGenres].[IsDeleted], [movie.MovieGenres].[ModifiedOn], [m.Genre].[Id], [m.Genre].[CreatedOn], [m.Genre].[DeletedOn], [m.Genre].[GenreName], [m.Genre].[IsDeleted], [m.Genre].[ModifiedOn]
FROM [MovieGenres] AS [movie.MovieGenres]
INNER JOIN [Genres] AS [m.Genre] ON [movie.MovieGenres].[GenreId] = [m.Genre].[Id]
INNER JOIN (
    SELECT [movie0].[Id], [movie0].[Title]
    FROM [Movies] AS [movie0]
    WHERE [movie0].[IsDeleted] = 0
) AS [t] ON [movie.MovieGenres].[MovieId] = [t].[Id]
ORDER BY [t].[Title], [t].[Id]" (0723d8ff)
2018-11-30T09:33:54.8219490+01:00 0HLIMJQ3TSEQQ:00000002 [INF] Executed action "Biob.Web.Controllers.MovieController.GetAllMovies (Biob.Web)" in 4426.9954ms (afa2e885)
2018-11-30T09:33:54.9346726+01:00 0HLIMJQ3TSEQQ:00000002 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
PagedList`1 -> IEnumerable`1
Biob.Services.Data.Helpers.PagedList`1[[Biob.Data.Models.Movie, Biob.Data.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.IEnumerable`1[[Biob.Services.Data.DtoModels.MovieDto, Biob.Services.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] ---> AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
Movie -> MovieDto
Biob.Data.Models.Movie -> Biob.Services.Data.DtoModels.MovieDto

Type Map configuration:
Movie -> MovieDto
Biob.Data.Models.Movie -> Biob.Services.Data.DtoModels.MovieDto

Destination Member:
Genre
 ---> System.ArgumentOutOfRangeException: StartIndex cannot be less than zero.
Parameter name: startIndex
   at System.Text.StringBuilder.Remove(Int32 startIndex, Int32 length)
   at Biob.Web.Helpers.IEnumerableExtensions.ConvertIEnumerableToString[T](IEnumerable`1 listOfString) in C:\Users\tec\Desktop\H3\ServerSide\BioB\RESTBiob\Biob.Web\Helpers\IEnumerableExtensions.cs:line 15
   at lambda_method(Closure , PagedList`1 , IEnumerable`1 , ResolutionContext )
   --- End of inner exception stack trace ---
   at lambda_method(Closure , PagedList`1 , IEnumerable`1 , ResolutionContext )
   --- End of inner exception stack trace ---
   at lambda_method(Closure , PagedList`1 , IEnumerable`1 , ResolutionContext )
   at lambda_method(Closure , Object , Object , ResolutionContext )
   at AutoMapper.Mapper.AutoMapper.IMapper.Map[TDestination](Object source) in C:\projects\automapper\src\AutoMapper\Mapper.cs:line 211
   at Biob.Web.Controllers.MovieController.GetAllMovies(RequestParameters requestParameters, String mediaType) in C:\Users\tec\Desktop\H3\ServerSide\BioB\RESTBiob\Biob.Web\Controllers\MovieController.cs:line 81
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext)
   at AspNetCoreRateLimit.IpRateLimitMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-11-30T09:33:54.9775315+01:00 0HLIMJQ3TSEQQ:00000002 [ERR] An exception was thrown attempting to display the error page. (33804fd3)
System.ArgumentException: Stream was not writable.
   at System.IO.StreamWriter..ctor(Stream stream, Encoding encoding, Int32 bufferSize, Boolean leaveOpen)
   at Microsoft.Extensions.RazorViews.BaseView.ExecuteAsync(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-11-30T09:33:55.0184317+01:00 0HLIMJQ3TSEQQ:00000002 [ERR] Connection id ""0HLIMJQ3TSEQQ"", Request id ""0HLIMJQ3TSEQQ:00000002"": An unhandled exception was thrown by the application. (560e7d32)
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
PagedList`1 -> IEnumerable`1
Biob.Services.Data.Helpers.PagedList`1[[Biob.Data.Models.Movie, Biob.Data.Models, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.IEnumerable`1[[Biob.Services.Data.DtoModels.MovieDto, Biob.Services.Data, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] ---> AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
Movie -> MovieDto
Biob.Data.Models.Movie -> Biob.Services.Data.DtoModels.MovieDto

Type Map configuration:
Movie -> MovieDto
Biob.Data.Models.Movie -> Biob.Services.Data.DtoModels.MovieDto

Destination Member:
Genre
 ---> System.ArgumentOutOfRangeException: StartIndex cannot be less than zero.
Parameter name: startIndex
   at System.Text.StringBuilder.Remove(Int32 startIndex, Int32 length)
   at Biob.Web.Helpers.IEnumerableExtensions.ConvertIEnumerableToString[T](IEnumerable`1 listOfString) in C:\Users\tec\Desktop\H3\ServerSide\BioB\RESTBiob\Biob.Web\Helpers\IEnumerableExtensions.cs:line 15
   at lambda_method(Closure , PagedList`1 , IEnumerable`1 , ResolutionContext )
   --- End of inner exception stack trace ---
   at lambda_method(Closure , PagedList`1 , IEnumerable`1 , ResolutionContext )
   --- End of inner exception stack trace ---
   at lambda_method(Closure , PagedList`1 , IEnumerable`1 , ResolutionContext )
   at lambda_method(Closure , Object , Object , ResolutionContext )
   at AutoMapper.Mapper.AutoMapper.IMapper.Map[TDestination](Object source) in C:\projects\automapper\src\AutoMapper\Mapper.cs:line 211
   at Biob.Web.Controllers.MovieController.GetAllMovies(RequestParameters requestParameters, String mediaType) in C:\Users\tec\Desktop\H3\ServerSide\BioB\RESTBiob\Biob.Web\Controllers\MovieController.cs:line 81
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.HandleResponse(HttpContext httpContext)
   at Marvin.Cache.Headers.HttpCacheHeadersMiddleware.Invoke(HttpContext httpContext)
   at AspNetCoreRateLimit.IpRateLimitMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.IISIntegration.IISMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2018-11-30T09:33:55.0620985+01:00 0HLIMJQ3TSEQQ:00000002 [INF] Request finished in 5238.4905ms 500  (791a596a)
2018-11-30T09:34:47.7945570+01:00 0HLIMJQNV29I5:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44390/api/v1/movies application/json  (ca22a1cb)
2018-11-30T09:34:47.7945570+01:00 0HLIMJQNV29I4:00000001 [INF] Request starting HTTP/1.1 DEBUG http://localhost:44390/  0 (ca22a1cb)
2018-11-30T09:34:47.8649730+01:00 0HLIMJQNV29I4:00000001 [INF] Request finished in 81.1923ms 200  (791a596a)
2018-11-30T09:34:48.0541249+01:00 0HLIMJQNV29I5:00000001 [INF] Checking for conditional GET/HEAD. (7e2efcb6)
2018-11-30T09:34:48.0633686+01:00 0HLIMJQNV29I5:00000001 [INF] Not valid - no If-None-Match or If-Modified-Since headers. (00e43d04)
2018-11-30T09:34:48.0718275+01:00 0HLIMJQNV29I5:00000001 [INF] Don't generate 304 - Not Modified.  Continue. (b6a7d473)
2018-11-30T09:34:48.0895050+01:00 0HLIMJQNV29I5:00000001 [INF] Checking for conditional PUT/PATCH. (bf3cf9be)
2018-11-30T09:34:48.0990733+01:00 0HLIMJQNV29I5:00000001 [INF] Not valid - method isn't PUT or PATCH. (671cb4f2)
2018-11-30T09:34:48.1099994+01:00 0HLIMJQNV29I5:00000001 [INF] Don't generate 412 - Precondition Failed.  Continue. (08bc4a18)
2018-11-30T09:34:48.5330617+01:00 0HLIMJQNV29I5:00000001 [INF] Route matched with "{action = \"GetAllMovies\", controller = \"Movie\"}". Executing action "Biob.Web.Controllers.MovieController.GetAllMovies (Biob.Web)" (a44c0341)
2018-11-30T09:34:48.9567245+01:00 0HLIMJQNV29I5:00000001 [INF] Executing action method "Biob.Web.Controllers.MovieController.GetAllMovies (Biob.Web)" with arguments (["Biob.Web.Helpers.RequestParameters", "*/*"]) - Validation state: Valid (4e3479ed)
2018-11-30T09:34:49.3157578+01:00 0HLIMJQNV29I5:00000001 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"BiobDataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2018-11-30T09:34:51.9989500+01:00 0HLIMJQNV29I5:00000001 [INF] Executed DbCommand ("140"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [movie].[Id], [movie].[Actors], [movie].[AgeRestriction], [movie].[CreatedOn], [movie].[DeletedOn], [movie].[Description], [movie].[IsDeleted], [movie].[LengthInSeconds], [movie].[ModifiedOn], [movie].[Poster], [movie].[Producer], [movie].[Released], [movie].[ThreeDee], [movie].[Title]
FROM [Movies] AS [movie]
WHERE [movie].[IsDeleted] = 0
ORDER BY [movie].[Title], [movie].[Id]" (0723d8ff)
2018-11-30T09:34:52.1583249+01:00 0HLIMJQNV29I5:00000001 [INF] Executed DbCommand ("73"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [movie.MovieGenres].[MovieId], [movie.MovieGenres].[GenreId], [movie.MovieGenres].[CreatedOn], [movie.MovieGenres].[DeletedOn], [movie.MovieGenres].[Id], [movie.MovieGenres].[IsDeleted], [movie.MovieGenres].[ModifiedOn], [m.Genre].[Id], [m.Genre].[CreatedOn], [m.Genre].[DeletedOn], [m.Genre].[GenreName], [m.Genre].[IsDeleted], [m.Genre].[ModifiedOn]
FROM [MovieGenres] AS [movie.MovieGenres]
INNER JOIN [Genres] AS [m.Genre] ON [movie.MovieGenres].[GenreId] = [m.Genre].[Id]
INNER JOIN (
    SELECT [movie0].[Id], [movie0].[Title]
    FROM [Movies] AS [movie0]
    WHERE [movie0].[IsDeleted] = 0
) AS [t] ON [movie.MovieGenres].[MovieId] = [t].[Id]
ORDER BY [t].[Title], [t].[Id]" (0723d8ff)
2018-11-30T09:34:52.3534635+01:00 0HLIMJQNV29I5:00000001 [INF] Executed action method "Biob.Web.Controllers.MovieController.GetAllMovies (Biob.Web)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3382.1757ms. (50a9e262)
2018-11-30T09:34:52.3795542+01:00 0HLIMJQNV29I5:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[System.Dynamic.ExpandoObject, System.Linq.Expressions, Version=4.2.1.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a]]"'. (8a1b66c8)
2018-11-30T09:34:52.4196504+01:00 0HLIMJQNV29I5:00000001 [INF] Executed action "Biob.Web.Controllers.MovieController.GetAllMovies (Biob.Web)" in 3873.7617ms (afa2e885)
2018-11-30T09:34:52.4369083+01:00 0HLIMJQNV29I5:00000001 [INF] Generating expiration headers. (97875003)
2018-11-30T09:34:52.4453686+01:00 0HLIMJQNV29I5:00000001 [INF] Expiration headers generated. Expires: Fri, 30 Nov 2018 08:44:52 GMT. Cache-Control: public,max-age=600,must-revalidate. (c3c057f6)
2018-11-30T09:34:52.4587909+01:00 0HLIMJQNV29I5:00000001 [INF] Generating Validation headers. (20c08f55)
2018-11-30T09:34:52.4779176+01:00 0HLIMJQNV29I5:00000001 [INF] Validation headers generated. ETag: Strong, "72430608CC627DDF659898DDED7A00C0". Last-Modified: Fri, 30 Nov 2018 08:34:52 GMT (76894c15)
2018-11-30T09:34:52.4862351+01:00 0HLIMJQNV29I5:00000001 [INF] Generating Vary header. (c1174e38)
2018-11-30T09:34:52.4931553+01:00 0HLIMJQNV29I5:00000001 [INF] Vary header generated: Accept-Encoding. (669dea28)
2018-11-30T09:34:52.5391156+01:00 0HLIMJQNV29I5:00000001 [INF] Request finished in 4738.8532ms 200 application/json; charset=utf-8 (791a596a)
